import{c as M,r as n,u as U,j as e,A as R,q as z,b as B}from"./index-nZOH0Xb2.js";import{B as m}from"./button-CDf-dMY4.js";import{C as D}from"./card-D_KFNFLQ.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=M("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),T=()=>{const[C,u]=n.useState(!1),[N,g]=n.useState(!1),[h,f]=n.useState(null),[v,x]=n.useState(null),[l,w]=n.useState(null),[c,E]=n.useState(null),[y,p]=n.useState(!1),{toast:S}=U(),[I,k]=n.useState([]);n.useEffect(()=>{const a=localStorage.getItem("coverImage"),r=localStorage.getItem("avatarImage");a&&f(a),r&&x(r)},[]),n.useEffect(()=>{const a=localStorage.getItem("posts");if(a){const t=JSON.parse(a).filter(o=>o.userId==="current-user");k(t)}},[]);const P=a=>new Promise(r=>{const t=new Image;t.onload=()=>{const o=document.createElement("canvas"),s=Math.min(t.width,t.height);o.width=s,o.height=s;const i=o.getContext("2d");if(!i)return r(a);const d=(t.width-s)/2,L=(t.height-s)/2;i.drawImage(t,d,L,s,s,0,0,s,s),r(o.toDataURL("image/jpeg",.8))},t.src=a}),j=async(a,r)=>{var s;const t=(s=a.target.files)==null?void 0:s[0];if(!t)return;const o=new FileReader;o.onloadend=async()=>{const i=o.result;if(r==="cover")w(i);else{const d=await P(i);E(d)}p(!0)},o.readAsDataURL(t)},A=()=>{l&&(f(l),localStorage.setItem("coverImage",l)),c&&(x(c),localStorage.setItem("avatarImage",c)),p(!1),S({title:"Success",description:"Profile images updated successfully"})};return e.jsxs("div",{className:"w-full max-w-4xl mx-auto animate-fade-in duration-700 ease-in-out",children:[e.jsxs("div",{className:"relative mt-[-5rem]",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[e.jsx("div",{className:"h-48 w-full rounded-b-lg bg-cover bg-center",style:{backgroundImage:l||h?`url(${l||h})`:"linear-gradient(to right, #231F20, #E41E12)"}}),C&&e.jsx(m,{variant:"secondary",size:"icon",className:"absolute top-2 right-2 bg-[#E41E12] hover:bg-[#ff2a1f] rounded-full transition-colors ease-in-out",onClick:()=>{var a;return(a=document.getElementById("cover-upload"))==null?void 0:a.click()},children:e.jsx(b,{className:"h-4 w-4 text-white"})}),e.jsx("input",{type:"file",id:"cover-upload",className:"hidden",accept:"image/*",onChange:a=>j(a,"cover")}),e.jsxs("div",{className:"absolute -bottom-16 left-1/2 transform -translate-x-1/2",onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:[e.jsxs(R,{className:"h-32 w-32 border-4 border-[#E41E12] relative",children:[c||v?e.jsx(z,{src:c||v,alt:"Profile"}):e.jsx(B,{className:"text-4xl",children:"NI"}),N&&e.jsx(m,{variant:"secondary",size:"icon",className:"absolute inset-0 bg-[#E41E12] hover:bg-[#ff2a1f] rounded-full flex items-center justify-center transition-colors ease-in-out",onClick:()=>{var a;return(a=document.getElementById("avatar-upload"))==null?void 0:a.click()},children:e.jsx(b,{className:"h-4 w-4 text-white"})})]}),e.jsx("input",{type:"file",id:"avatar-upload",className:"hidden",accept:"image/*",onChange:a=>j(a,"avatar")})]})]}),e.jsxs("div",{className:"mt-20 px-8",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-[#E41E12]",children:"Nikola"}),e.jsx("p",{className:"text-muted-foreground",children:"Member since 1/25/2025"}),y&&e.jsx(m,{variant:"secondary",className:"mt-4 bg-[#2a2d31] hover:bg-[#3a3d41] text-white border-none transition-colors ease-in-out",onClick:A,children:"Save Changes"})]}),e.jsx("div",{className:"mt-8",children:e.jsxs(D,{className:"bg-[#1a1d21]/90 backdrop-blur-lg border-none p-6 animate-in fade-in duration-700 ease-in-out",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-[#E41E12]",children:"Posts"}),I.length===0?e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No posts yet"}):e.jsx("div",{className:"space-y-4",children:I.map(a=>e.jsx(PostCard,{post:a,onLike:handleLike,onComment:handleComment,onLikeComment:handleLikeComment,onReplyComment:handleReplyComment,onDelete:handleDelete},a.id))})]})})]})]})};export{T as default};
